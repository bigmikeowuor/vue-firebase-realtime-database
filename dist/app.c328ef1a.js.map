{"version":3,"sources":["app.js"],"names":["firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","initializeApp","database","messagesRef","ref","app","Vue","el","data","messages","messageText","nickname","editingMessage","methods","storeMessage","push","text","deleteMessage","message","child","id","remove","editMessage","cancelEditing","updateMessage","update","created","on","snapshot","val","key","nativeToast","position","timeout","type","find","index","indexOf","splice","updatedMessage"],"mappings":"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","file":"app.c328ef1a.js","sourceRoot":"..","sourcesContent":["const firebaseConfig = {\r\n\tapiKey: 'AIzaSyA2ZnvfQiQ_UQIibcOEKIOZBdcdtxg0SYo',\r\n\tauthDomain: 'mando-chat-room-mo.firebaseapp.com',\r\n\tdatabaseURL:\r\n\t\t'https://mando-chat-room-mo-default-rtdb.europe-west1.firebasedatabase.app',\r\n\tprojectId: 'mando-chat-room-mo',\r\n\tstorageBucket: 'mando-chat-room-mo.appspot.com',\r\n\tmessagingSenderId: '924359020779',\r\n\tappId: '1:924359020779:web:c939db93426d081c562eae',\r\n\tmeasurementId: 'G-NQ848Z5T15',\r\n};\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\n// Open connection to the Firebase database\r\nconst database = firebase.database();\r\n\r\nconst messagesRef = database.ref('messages');\r\n\r\nconst app = new Vue({\r\n\tel: '#chat',\r\n\r\n\tdata: {\r\n\t\tmessages: [],\r\n\t\tmessageText: '',\r\n\t\tnickname: 'gambit',\r\n\t\teditingMessage: null,\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tstoreMessage() {\r\n\t\t\tmessagesRef.push({ text: this.messageText, nickname: this.nickname });\r\n\t\t\tthis.messageText = '';\r\n\t\t},\r\n\r\n\t\tdeleteMessage(message) {\r\n\t\t\tmessagesRef.child(message.id).remove();\r\n\t\t},\r\n\r\n\t\teditMessage(message) {\r\n\t\t\tthis.editingMessage = message;\r\n\t\t\tthis.messageText = message.text;\r\n\t\t},\r\n\r\n\t\tcancelEditing() {\r\n\t\t\tthis.editingMessage = null;\r\n\t\t\tthis.messageText = '';\r\n\t\t},\r\n\r\n\t\tupdateMessage() {\r\n\t\t\tmessagesRef.child(this.editingMessage.id).update({ text: this.messageText });\r\n\t\t\tthis.cancelEditing();\r\n\t\t},\r\n\t},\r\n\r\n\tcreated() {\r\n\t\tmessagesRef.on('child_added', (snapshot) => {\r\n\t\t\tthis.messages.push({ ...snapshot.val(), id: snapshot.key });\r\n\r\n\t\t\tif (snapshot.val().nickname !== this.nickname) {\r\n\t\t\t\tnativeToast({\r\n\t\t\t\t\tmessage: `New message by ${snapshot.val().nickname}`,\r\n\t\t\t\t\tposition: 'south-east',\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tmessagesRef.on('child_removed', (snapshot) => {\r\n\t\t\tconst deleteMessage = this.messages.find((message) => message.id === snapshot.key);\r\n\t\t\tconst index = this.messages.indexOf(deleteMessage);\r\n\r\n\t\t\tthis.messages.splice(index, 1);\r\n\r\n\t\t\tif (snapshot.val().nickname !== this.nickname) {\r\n\t\t\t\tnativeToast({\r\n\t\t\t\t\tmessage: `Message deleted by ${snapshot.val().nickname}`,\r\n\t\t\t\t\tposition: 'south-east',\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tmessagesRef.on('child_changed', (snapshot) => {\r\n\t\t\tconst updatedMessage = this.messages.find(\r\n\t\t\t\t(message) => message.id === snapshot.key\r\n\t\t\t);\r\n\r\n\t\t\tupdatedMessage.text = snapshot.val().text;\r\n\r\n\t\t\tif (snapshot.val().nickname !== this.nickname) {\r\n\t\t\t\tnativeToast({\r\n\t\t\t\t\tmessage: `Message edited by ${snapshot.val().nickname}`,\r\n\t\t\t\t\tposition: 'south-east',\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\ttype: 'info',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n});\r\n"]}