{"version":3,"sources":["app.js"],"names":["firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebase","initializeApp","database","messagesRef","ref","app","Vue","el","data","messages","messageText","nickname","editingMessage","methods","storeMessage","push","text","deleteMessage","message","child","id","remove","editMessage","cancelEditing","updateMessage","update","created","on","snapshot","val","key","nativeToast","position","timeout","type","find","index","indexOf","splice"],"mappings":";AAkBA,SAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,KAAA,GAAA,GAAA,OAAA,sBAAA,CAAA,IAAA,EAAA,OAAA,sBAAA,GAAA,IAAA,EAAA,EAAA,OAAA,SAAA,GAAA,OAAA,OAAA,yBAAA,EAAA,GAAA,cAAA,EAAA,KAAA,MAAA,EAAA,GAAA,OAAA,EAAA,SAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,UAAA,OAAA,IAAA,CAAA,IAAA,EAAA,MAAA,UAAA,GAAA,UAAA,GAAA,GAAA,EAAA,EAAA,EAAA,OAAA,IAAA,GAAA,QAAA,SAAA,GAAA,EAAA,EAAA,EAAA,EAAA,MAAA,OAAA,0BAAA,OAAA,iBAAA,EAAA,OAAA,0BAAA,IAAA,EAAA,OAAA,IAAA,QAAA,SAAA,GAAA,OAAA,eAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,MAAA,OAAA,EAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,KAAA,EAAA,OAAA,eAAA,EAAA,EAAA,CAAA,MAAA,EAAA,YAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,GAAA,EAAA,EAlBA,IAAMA,EAAiB,CACtBC,OAAQ,0CACRC,WAAY,kCACZC,YAAa,yEACbC,UAAW,kBACXC,cAAe,8BACfC,kBAAmB,eACnBC,MAAO,6CAIRC,SAASC,cAAcT,GAGvB,IAAMU,EAAWF,SAASE,WAEpBC,EAAcD,EAASE,IAAI,YAE3BC,EAAM,IAAIC,IAAI,CACnBC,GAAI,QAEJC,KAAM,CACLC,SAAU,GACVC,YAAa,GACbC,SAAU,SACVC,eAAgB,MAGjBC,QAAS,CACRC,aAAe,WACdX,EAAYY,KAAK,CAAEC,KAAM,KAAKN,YAAaC,SAAU,KAAKA,WACrDD,KAAAA,YAAc,IAGpBO,cAAcC,SAAAA,GACbf,EAAYgB,MAAMD,EAAQE,IAAIC,UAG/BC,YAAYJ,SAAAA,GACNN,KAAAA,eAAiBM,EACjBR,KAAAA,YAAcQ,EAAQF,MAG5BO,cAAgB,WACVX,KAAAA,eAAiB,KACjBF,KAAAA,YAAc,IAGpBc,cAAgB,WACfrB,EAAYgB,MAAM,KAAKP,eAAeQ,IAAIK,OAAO,CAAET,KAAM,KAAKN,cACzDa,KAAAA,kBAIPG,QAAU,WAAA,IAAA,EAAA,KACTvB,EAAYwB,GAAG,cAAe,SAACC,GAC9B,EAAKnB,SAASM,KAAUa,EAAAA,EAAAA,GAAAA,EAASC,OAAjC,GAAA,CAAwCT,GAAIQ,EAASE,OAEjDF,EAASC,MAAMlB,WAAa,EAAKA,UACpCoB,YAAY,CACXb,QAA2BU,kBAAAA,OAAAA,EAASC,MAAMlB,UAC1CqB,SAAU,aACVC,QAAS,IACTC,KAAM,cAKT/B,EAAYwB,GAAG,gBAAiB,SAACC,GAC1BX,IAAAA,EAAgB,EAAKR,SAAS0B,KAAK,SAACjB,GAAYA,OAAAA,EAAQE,KAAOQ,EAASE,MACxEM,EAAQ,EAAK3B,SAAS4B,QAAQpB,GAEpC,EAAKR,SAAS6B,OAAOF,EAAO,GAExBR,EAASC,MAAMlB,WAAa,EAAKA,UACpCoB,YAAY,CACXb,QAA+BU,sBAAAA,OAAAA,EAASC,MAAMlB,UAC9CqB,SAAU,aACVC,QAAS,IACTC,KAAM,cAKT/B,EAAYwB,GAAG,gBAAiB,SAACC,GACT,EAAKnB,SAAS0B,KAAK,SAACjB,GAAYA,OAAAA,EAAQE,KAAOQ,EAASE,MAEhEd,KAAOY,EAASC,MAAMb,KAEjCY,EAASC,MAAMlB,WAAa,EAAKA,UACpCoB,YAAY,CACXb,QAA8BU,qBAAAA,OAAAA,EAASC,MAAMlB,UAC7CqB,SAAU,aACVC,QAAS,IACTC,KAAM","file":"app.ea37f391.js","sourceRoot":"..","sourcesContent":["const firebaseConfig = {\r\n\tapiKey: 'AIzaSyCMP15zM_DxYst_Xt0mJ8Xym-ojAY42SEs',\r\n\tauthDomain: 'mando-chat-swap.firebaseapp.com',\r\n\tdatabaseURL: 'https://mando-chat-swap-default-rtdb.europe-west1.firebasedatabase.app',\r\n\tprojectId: 'mando-chat-swap',\r\n\tstorageBucket: 'mando-chat-swap.appspot.com',\r\n\tmessagingSenderId: '688900179985',\r\n\tappId: '1:688900179985:web:708c1b443989a55892c9b0',\r\n};\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\n// Open connection to the Firebase database\r\nconst database = firebase.database();\r\n\r\nconst messagesRef = database.ref('messages');\r\n\r\nconst app = new Vue({\r\n\tel: '#chat',\r\n\r\n\tdata: {\r\n\t\tmessages: [],\r\n\t\tmessageText: '',\r\n\t\tnickname: 'gambit',\r\n\t\teditingMessage: null,\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tstoreMessage() {\r\n\t\t\tmessagesRef.push({ text: this.messageText, nickname: this.nickname });\r\n\t\t\tthis.messageText = '';\r\n\t\t},\r\n\r\n\t\tdeleteMessage(message) {\r\n\t\t\tmessagesRef.child(message.id).remove();\r\n\t\t},\r\n\r\n\t\teditMessage(message) {\r\n\t\t\tthis.editingMessage = message;\r\n\t\t\tthis.messageText = message.text;\r\n\t\t},\r\n\r\n\t\tcancelEditing() {\r\n\t\t\tthis.editingMessage = null;\r\n\t\t\tthis.messageText = '';\r\n\t\t},\r\n\r\n\t\tupdateMessage() {\r\n\t\t\tmessagesRef.child(this.editingMessage.id).update({ text: this.messageText });\r\n\t\t\tthis.cancelEditing();\r\n\t\t},\r\n\t},\r\n\r\n\tcreated() {\r\n\t\tmessagesRef.on('child_added', (snapshot) => {\r\n\t\t\tthis.messages.push({ ...snapshot.val(), id: snapshot.key });\r\n\r\n\t\t\tif (snapshot.val().nickname !== this.nickname) {\r\n\t\t\t\tnativeToast({\r\n\t\t\t\t\tmessage: `New message by ${snapshot.val().nickname}`,\r\n\t\t\t\t\tposition: 'south-east',\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tmessagesRef.on('child_removed', (snapshot) => {\r\n\t\t\tconst deleteMessage = this.messages.find((message) => message.id === snapshot.key);\r\n\t\t\tconst index = this.messages.indexOf(deleteMessage);\r\n\r\n\t\t\tthis.messages.splice(index, 1);\r\n\r\n\t\t\tif (snapshot.val().nickname !== this.nickname) {\r\n\t\t\t\tnativeToast({\r\n\t\t\t\t\tmessage: `Message deleted by ${snapshot.val().nickname}`,\r\n\t\t\t\t\tposition: 'south-east',\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tmessagesRef.on('child_changed', (snapshot) => {\r\n\t\t\tconst updatedMessage = this.messages.find((message) => message.id === snapshot.key);\r\n\r\n\t\t\tupdatedMessage.text = snapshot.val().text;\r\n\r\n\t\t\tif (snapshot.val().nickname !== this.nickname) {\r\n\t\t\t\tnativeToast({\r\n\t\t\t\t\tmessage: `Message edited by ${snapshot.val().nickname}`,\r\n\t\t\t\t\tposition: 'south-east',\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\ttype: 'info',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n});\r\n"]}